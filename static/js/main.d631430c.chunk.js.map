{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","serviceWorker.js","index.js"],"names":["Header","className","Footer","CurrentUserContext","React","createContext","Card","props","_id","useContext","card","link","name","likes","likesCount","length","cardId","isOwn","owner","cardLikeButtonClassName","some","i","src","alt","onClick","onCardClick","onCardDelete","onCardLike","Main","cards","onEditAvatar","onEditProfile","onAddPlace","onDelete","about","avatar","style","backgroundImage","map","data","index","key","userId","onDeleteClick","PopupWithForm","title","isOpen","onClose","buttonText","inputPlaceholder1","inputPlaceholder2","input2Type","disableButton","inputValue1","inputValue2","onInputChange","onSubmit","refInput2","popupClass","disableButtonClass","e","target","reset","type","placeholder","minLength","maxLength","value","onChange","required","id","pattern","ref","ImagePopup","EditProfilePopup","useState","profileName","setProfileName","description","setDescription","useEffect","editFormProps","preventDefault","onUpdateUser","EditAvatarPopup","onUpdateAvatar","avatarInputRef","useRef","editAvatarProps","current","AddPlacePopup","setTitle","imageLink","setImageLink","addPlaceProps","api","baseUrl","headers","this","fetch","method","then","res","ok","json","Promise","reject","status","catch","err","console","log","body","JSON","stringify","LikeState","addLikes","deleteLikes","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCardId","currentUser","setCurrentUser","setCards","getInitialCards","slice","getProfile","closeAllPopups","confirmProps","handleSubmit","deleteCard","Provider","isLiked","changeLikeCardStatus","newCard","newCards","c","filter","postCard","profileData","updateProfileData","updateProfileAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.d631430c.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <div className=\"logo\"></div>\n    </header>\n  )\n}\n\nexport default Header;","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Around The U.S.</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\n\n\nfunction Card(props) {\n  const { _id} = React.useContext(CurrentUserContext);\n  const { link, name } = props.card;\n  //const cardOwnerId = props.card.owner._id;\n   // const userId = _id\n  const likes = props.card.likes;\n  const likesCount = likes.length;\n  const cardId = props.card._id\n  const isOwn = props.card.owner._id === _id;\n  const isLiked = likes.some(i => i._id === _id);\n  const cardLikeButtonClassName = isLiked ? 'place__icon place__icon_liked': 'place__icon';\n  \n  function handleImageClick() {\n    props.onCardClick(props.card);\n  }\n\n  const handleDeleteClick = () => {\n    props.onCardDelete(cardId)\n  }\n\n  const handleLikeClick = () => {\n    props.onCardLike(props.card)\n  }\n\n  return (\n    <>\n      <img className=\"place__image\" src={link} alt={name} onClick={handleImageClick}/>\n      {isOwn ? <div className=\"place__delete\" onClick={handleDeleteClick}></div> : null}\n      <div className=\"place__info\">\n        <h3 className=\"place__name\">{name}</h3>\n        <div className=\"place__icon-container\">\n          <div className={cardLikeButtonClassName} onClick={handleLikeClick}></div>\n          <span className=\"place__likes-count\">{likesCount}</span>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  cards,\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  onDelete,\n  onCardLike,\n  onCardDelete,\n}) {\n  const { name, about, avatar, _id } = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"overlay-container\">\n          <div\n            className=\"avatar\"\n            style={{ backgroundImage: `url(${avatar})` }}\n          ></div>\n          <div className=\"overlay\">\n            <div className=\"edit\" onClick={onEditAvatar}></div>\n          </div>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{name}</h1>\n          <button\n            className=\"button button_edit\"\n            onClick={onEditProfile}\n          ></button>\n          <p className=\"profile__title\">{about}</p>\n        </div>\n        <button className=\"button button_add\" onClick={onAddPlace}></button>\n      </section>\n      <section className=\"container\">\n        <ul className=\"places\">\n          {cards.map((data, index) => {\n            return (\n              <li className=\"place\" key={index}>\n                <Card\n                  card={data}\n                  userId={_id}\n                  onCardClick={onCardClick}\n                  onDeleteClick={onDelete}\n                  onCardLike={onCardLike}\n                  onCardDelete={onCardDelete}\n                />\n              </li>\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction PopupWithForm({ title,name, isOpen,onClose,buttonText,\n  inputPlaceholder1,inputPlaceholder2,input2Type,disableButton,\n  inputValue1, inputValue2, onInputChange, onSubmit, refInput2}) {\n  \n    const popupClass = isOpen ? \n    `popup popup_type_${name} popup_opened` :\n    `popup popup_type_${name}`\n\n  const disableButtonClass = disableButton ? `popup__button popup__button_disabled`:\n  `popup__button`\n\n  const handleSubmit = (e) => {\n    onSubmit(e)\n    onClose()\n\n    if (name !== 'edit') {\n       e.target.reset()\n    }\n  }\n\n  return (\n    <div>\n      <aside className={popupClass}>\n        <div className=\"popup__container\">\n          <form className=\"popup__form\" onSubmit={handleSubmit}>\n            <h2 className=\"popup__title\">{title}</h2>\n            {inputPlaceholder1 && <input\n              className=\"popup__input popup__name\"\n              type=\"text\"\n              name=\"title\"\n              placeholder={inputPlaceholder1}\n              minLength=\"1\"\n              maxLength=\"30\"\n              value={inputValue1 }\n          \n              onChange={onInputChange}\n              required\n            />}\n            <span\n              id=\"popup__title-error\"\n              className=\"popup__input_type_error\"\n            ></span>\n            {inputPlaceholder2 && <input\n              className=\"popup__input popup__about\"\n              type={input2Type}\n              name=\"link\"\n              placeholder={inputPlaceholder2}\n              pattern={input2Type === \"link\"? \"https?://.+\":null}\n              value={inputValue2  }\n              ref={refInput2}\n              onChange={onInputChange}\n              required\n            />}\n            <span\n              id=\"popup__link-error\"\n              className=\"popup__input_type_error\"\n            ></span>\n            <button type=\"submit\" className={disableButtonClass}>{buttonText}</button>\n            <button className=\"popup__exit\" onClick={onClose}></button>\n          </form>\n        </div>\n      </aside> \n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  const {card, isOpen,onClose} = props\n\n  const popupClass = isOpen ? \n  `popup popup_type_large-image popup_opened` :\n  `popup popup_type_large-image`\n\n\n  return (\n    <aside className={popupClass}>\n      <div className=\"popup__container\">\n        <figure className=\"popup__image-figure\">\n          <button className=\"popup__exit\" onClick={onClose}></button>\n          <img className=\"popup__image\" alt=\"figure\" src={card.link}/>\n          <figcaption className=\"popup__image-title\">{card.name}</figcaption>\n        </figure>\n      </div>\n    </aside>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props) {\n  const {name, about} = React.useContext(CurrentUserContext);\n  const [profileName, setProfileName] = React.useState(\"\")\n  const [description, setDescription] = React.useState(\"\")\n\n  React.useEffect(() => {\n    if (name && about) {\n      setProfileName(name);\n      setDescription(about);\n    }\n   \n  }, [name,about]);\n\n  const handleInputChange = (e) => {\n    if (e.target.name === 'title') {\n      setProfileName(e.target.value)\n    } else if (e.target.name === 'link') {\n      setDescription(e.target.value);\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n  \n    props.onUpdateUser({\n      name: profileName,\n      about: description,\n    });  \n  }\n\n  const editFormProps = {\n    title: \"Edit Profile\",\n    name: \"edit\",\n    inputPlaceholder1: \"Name\",\n    inputPlaceholder2: \"About Me\",\n    input2Type:\"text\",\n    isOpen: props.isOpen,\n    onClose: props.onClose,\n    buttonText: \"Save\",\n    disableButton: false,\n    inputValue1: profileName,\n    inputValue2: description,\n    onInputChange: handleInputChange,\n    onSubmit: handleSubmit\n  };\n\n  return (\n    <>\n      <PopupWithForm {...editFormProps} />\n    </>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, reset }) {\n  const avatarInputRef = React.useRef(\"\");\n\n  const editAvatarProps = {\n    title: \"Change profile picture\",\n    name: \"profile-picture\",\n    inputPlaceholder2: \"Image link\",\n    input2Type: \"link\",\n    isOpen: isOpen,\n    onClose: onClose,\n    buttonText: \"Save\",\n    disableButton: false,\n    onSubmit: handleSubmit,\n    refInput2: avatarInputRef,\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarInputRef.current.value,\n    });\n  }\n\n  return (\n    <>\n      <PopupWithForm {...editAvatarProps} />\n    </>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace}) {\n  const [title, setTitle] = React.useState(\"\");\n  const [imageLink, setImageLink] = React.useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onAddPlace({\n      name: title,\n      link: imageLink,\n    });\n  };\n\n  const handleInputChange = (e) => {\n    if (e.target.name === \"title\") {\n      setTitle(e.target.value);\n    } else if (e.target.name === \"link\") {\n      setImageLink(e.target.value);\n    }\n  };\n\n  const addPlaceProps = {\n    title: \"New Place\",\n    name: \"add-place\",\n    inputPlaceholder1: \"Title\",\n    inputPlaceholder2: \"Image link\",\n    input2Type:\"link\",\n    isOpen: isOpen,\n    onClose: onClose,\n    buttonText: \"Create\",\n    disableButton: false,\n    onSubmit: handleSubmit,\n    onInputChange: handleInputChange,\n  };\n\n  return (\n    <>\n      <PopupWithForm {...addPlaceProps} />\n    </>\n  );\n}\n\nexport default AddPlacePopup;\n","class Api {\n    constructor({baseUrl,headers}) {\n      this.baseUrl = baseUrl;\n      this.headers = headers\n    }\n  \n    getInitialCards() {\n      return fetch(`${this.baseUrl}/cards`, {\n        method: \"GET\",\n        headers: this.headers,\n      })\n        .then((res) => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  \n    getProfile() {\n      return fetch(`${this.baseUrl}/users/me`, {\n        method: \"GET\",\n        headers: this.headers,\n      })\n        .then((res) => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  \n    updateProfileAvatar(avatar) {\n      return fetch(`${this.baseUrl}/users/me/avatar`, {\n        method: \"PATCH\",\n        headers: this.headers,\n        body: JSON.stringify({\n          avatar\n        }),\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n  \n    updateProfileData({name,about}) {\n      return fetch(`${this.baseUrl}/users/me`, {\n        method: \"PATCH\",\n        headers: this.headers,\n        body: JSON.stringify({\n          name,\n          about\n        }),\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n  \n  \n    postCard({name,link}) {\n      return fetch(`${this.baseUrl}/cards`, {\n        method: \"POST\",\n        headers: this.headers,\n        body: JSON.stringify({\n          name,\n          link\n        }),\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n  \n    deleteCard(cardId) {\n      return fetch(`${this.baseUrl}/cards/${cardId}`, {\n        method: \"DELETE\",\n        headers: this.headers\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n  \n    addLikes(cardId) {\n      return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n        method: \"PUT\",\n        headers: this.headers\n      })\n        .then((res) => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  \n    deleteLikes(cardId) {\n      return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n        method: \"DELETE\",\n        headers: this.headers\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n\n\n    changeLikeCardStatus(cardId, LikeState) {\n       if (LikeState) {\n         return this.addLikes(cardId)\n       } else {\n        return this.deleteLikes(cardId)\n       }\n    }\n  }\n\n  export const api = new Api({\n    baseUrl: \"https://around.nomoreparties.co/v1/group-1\",\n    headers: {\n      authorization: \"8d98f55e-f3f5-4d31-8928-0111e1b03804\",\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  ","import React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { api } from \"../utils/api\";\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false)\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false)\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState()\n  const [cardId, setCardId] = React.useState()\n  const [currentUser, setCurrentUser] = React.useState({})\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res.slice(0, 6));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n\n\n  React.useEffect(() => {\n    api\n      .getProfile()\n      .then((res) => {\n        setCurrentUser(res)  \n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {     \n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    });\n  }\n\n  const handleCardDelete = (cardId) => {  \n    api.deleteCard(cardId).then((res) => {   \n       const newCards = cards.filter((c) => c._id !== cardId ? c:null);\n       setCards(newCards);\n     });\n  }\n\n  const handleAddPlaceClick = (e) => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen)\n  }\n\n  const handleEditAvatarClick = (e) => {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  const handleDeleteClick = (cardId) => {\n    setIsConfirmPopupOpen(true)\n    setCardId(cardId)\n  }\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card)\n    setIsImagePopupOpen(true)\n  }\n\n  const closeAllPopups = () => {\n    setIsAddPlacePopupOpen(false)\n    setIsEditProfilePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsConfirmPopupOpen(false)\n    setSelectedCard(null)\n    setIsImagePopupOpen(false)\n  }\n\n  const deleteCard = (e) => {\n    e.preventDefault()\n\n    api\n    .deleteCard(cardId)\n    .then(res => {\n      setCardId(null)\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n \n    closeAllPopups()\n  }\n\n  const confirmProps = {\n    title:\"Are you sure?\", name:\"confirm\", \n    isOpen:isConfirmPopupOpen,\n    onClose:closeAllPopups,\n    buttonText:\"Yes\",\n    disableButton:false,\n    handleSubmit: deleteCard\n  }\n\n  const handleUpdateUser = (profileData) => {\n    api\n    .updateProfileData(profileData)\n    .then(res =>  setCurrentUser(res))\n  }\n\n  const handleUpdateAvatar = (data) => {\n     api\n     .updateProfileAvatar(data.avatar)\n     .then(res =>  setCurrentUser(res))\n  }\n\n  const handleAddPlace = (data) => {\n     api\n     .postCard(data)\n     .then(newCard => { \n      setCards([...cards,newCard])\n      \n    })\n    \n  }\n\n  return (  \n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header/>\n        <Main \n          cards = {cards}\n          onAddPlace={handleAddPlaceClick} \n          onEditProfile={handleEditProfileClick}\n          onEditAvatar={handleEditAvatarClick }\n          onDelete={handleDeleteClick}\n          onCardClick={handleCardClick}\n          onCardLike={ handleCardLike }\n          onCardDelete={handleCardDelete }/>\n        <Footer/>\n        <AddPlacePopup \n          isOpen={isAddPlacePopupOpen} \n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n          \n        />\n        <EditProfilePopup \n          isOpen={isEditProfilePopupOpen} \n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser} />\n        <EditAvatarPopup \n          isOpen={isEditAvatarPopupOpen} \n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n            />\n        <PopupWithForm {...confirmProps}/>\n        {selectedCard && \n        <ImagePopup card={selectedCard} onClose={closeAllPopups} isOpen={isImagePopupOpen}/>}\n      </CurrentUserContext.Provider>\n    </>   \n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}